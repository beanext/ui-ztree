"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="bui.ztree"),function(a,b,c,d){c.module("bui.ztree",[]).directive("buiZtree",["$timeout",function(a){return{restrict:"EA",scope:{zTree:"="},replace:!0,template:"<ul></ul>",link:function(a,d,e,f){if(b&&b.fn.zTree){var g=e.id?e.id:"node"+(new Date).getTime();e.id||d.attr("id",g),d.hasClass("ztree")||d.addClass("ztree");var h=a.zTree.settings||{};a.$watch("zTree.nodes",function(e){e&&!a.zTree.tools?(a.zTree.tools=b.fn.zTree.init(d,h,a.zTree.nodes),a.zTree.expand!==!1&&a.zTree.tools.expandAll(!0),c.forEach(a.zTree.tools.getNodesByParam("initSelected",!0),function(b){a.zTree.tools.selectNode(b,1)})):e&&a.zTree.tools&&a.zTree.tools.refresh()})}}}}])}(window,window.jQuery,window.angular);